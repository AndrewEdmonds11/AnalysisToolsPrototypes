import "Hists.pkl"

// Configure the histograms we want
hidden n_hists = 5
hidden i_hists = IntSeq(0, n_hists-1) // "hidden" because IntSeq cannot be interpreted by JSON
hidden time_cut_values { for (i_hist in i_hists) { 500.0+i_hist*100.0 } }
hidden mom_cut_values { for (i_hist in i_hists) { 95.0+i_hist } }

hists {
  new Hists.MomHist {
      name = "hRecoMomAll"
      title = "Reco Mom (no cuts)"
  }
  new Hists.MomHist {
      name = "hRecoMomEnt"
      title = "Reco Mom @ Entrance (no cuts)"
      cut  = "surfaceId==0"
  }
  new Hists.MomHist {
      name = "hRecoMomMid"
      title = "Reco Mom @ Middle (no cuts)"
      cut  = "surfaceId==1"
  }
  new Hists.MomHist {
      name = "hRecoMomXit"
      title = "Reco Mom @ Exit (no cuts)"
      cut  = "surfaceId==2"
  }

  for (time_cut_val in time_cut_values) {
      new Hists.MomHist {
      	cut  = "time>"+time_cut_val.toString() + " && surfaceId==0"
        name = "hRecoMomEnt_gt"+time_cut_val.toInt().toString()+"ns"
	title = "Reco Mom @ Entrance (t > "+time_cut_val.toInt().toString()+" ns)"
      }
      new Hists.MomHist {
      	cut = "time<"+time_cut_val.toString() + " && surfaceId==0"
        name = "hRecoMomEnt_lt"+time_cut_val.toInt().toString()+"ns"
	title = "Reco Mom @ Entrance (t < "+time_cut_val.toInt().toString()+" ns)"
      }
  }

  new Hists.TimeHist {
      name = "hTime"
      title = "Time (no cuts)"
  }
  new Hists.TimeHist {
      name = "hTimeEnt"
      title = "Time @ Entrance (no cuts)"
  }
  new Hists.TimeHist {
      name = "hTimeMid"
      title = "Time @ Middle (no cuts)"
  }
  new Hists.TimeHist {
      name = "hTimeXit"
      title = "Time @ Exit (no cuts)"
  }
  for (mom_cut_val in mom_cut_values) {
      new Hists.TimeHist {
      	cut = "momentum>"+mom_cut_val.toString()+" && surfaceId==0"
        name = "hTimeEnt_gt"+mom_cut_val.toInt().toString()+"MeV"
	title = "Time @ Entrance (p > "+mom_cut_val.toInt().toString()+" MeV/c)"
      }
      new Hists.TimeHist {
      	cut = "momentum<"+mom_cut_val.toString()+" && surfaceId==0"
        name = "hTimeEnt_lt"+mom_cut_val.toInt().toString()+"MeV"
	title = "Time @ Entrance (p < "+mom_cut_val.toInt().toString()+" MeV/c)"
      }
  }
  for (time_cut_val in time_cut_values) {
      new Hists.TimeHist {
      	cut = "time>"+time_cut_val.toString() + " && surfaceId==0"
        name = "hTimeEnt_gt"+time_cut_val.toInt().toString()+"ns"
	title = "Time @ Entrance (t > "+time_cut_val.toInt().toString()+" ns)"
      }
   }


  new Hists.SurfaceIdHist {
      name = "hSurfaceId"
      title = "Surface ID"
  }

  for (mom_cut_val in mom_cut_values) {
    new Hists.SurfaceIdHist {
       	cut = "momentum>"+mom_cut_val.toString()
        name = "hSurfaceId_gt"+mom_cut_val.toInt().toString()+"MeV"
    	title = "Surface ID (p > "+mom_cut_val.toInt().toString()+" MeV/c)"
    }
  }
}
