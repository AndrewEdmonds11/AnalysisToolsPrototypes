open class Cut {
      variable : String = "cut_variable"
      comparator : String = "noOp"
      value : Float = 0.0
}

class TimeCut extends Cut {
      variable : String = "time"
}

open class Hist {
      name : String = "default_name"
      title : String = "default_title"
      min_x : Float = 0.0
      max_x : Float(this>min_x) = 0.0
      bin_width : Float(this>0) = 0.0
      variable : String = "default_variable"
}

class MomHist extends Hist {
      min_x = 90.0
      max_x = 110.0
      bin_width = 0.5
      variable = "momentum"
      time_cut : TimeCut 
}

class TimeHist extends Hist {
      min_x = 0.0
      max_x = 1700.0
      bin_width = 10.0
      variable = "time"
      time_cut : TimeCut
}

n_hists = 5
hidden i_hists = IntSeq(0, n_hists-1) // "hidden" because IntSeq cannot be interpreted by JSON

hists {
  for (i_hist in i_hists) {
      new MomHist {
      	time_cut { comparator = ">"
		 value = 500.0 + i_hist*100.0 }
        name = "hRecoMom_gt"+time_cut.value.toInt().toString()+"ns"
	title = "Reco Mom (t " + time_cut.comparator + " "+time_cut.value.toInt().toString()+" ns)"
      }
      new MomHist {
      	time_cut { comparator = "<"
		 value = 500.0 + i_hist*100.0 }
        name = "hRecoMom_lt"+time_cut.value.toInt().toString()+"ns"
	title = "Reco Mom (t " + time_cut.comparator + " "+time_cut.value.toInt().toString()+" ns)"
      }
  }
  new TimeHist {
      name = "hTime"
      title = "Time"
  }
}